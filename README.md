# ✍️ Blue/Green 실습용 레포

이 레포는 Blue/Green 배포 전략을 실습하기 위해 만들어졌습니다. Express.js로 작성된 간단한 헬스체크 API와 Nginx를 사용하여 Blue/Green 배포를 구현합니다.

## 🚧 문제 상황1

- amd64 환경에서만 동작하는 Docker 이미지를 ARM64 환경에서 실행하려고 할 때 발생하는 문제를 해결합니다.

## 🛠️ 해결 방법1

- QEMU를 사용하여 ARM64 에뮬레이션을 설정합니다.
- Docker Buildx를 사용하여 다중 아키텍처 이미지를 빌드하고 푸시합니다.
- GitHub Actions 워크플로우를 수정하여 ARM64 환경에서도 빌드 및 배포가 가능하도록 합니다.

## 🚧 문제 상황2

- QEMU, Buildx를 사용하여 multi-arch 이미지를 빌드하는 경우, 레지스트리에 amd64와 arm64 이미지가 각각 저장됩니다. 이로 인해 저장소 용량이 두 배로 증가하는 문제가 발생할 수 있습니다.

## 🛠️ 해결 방법2

- 빌드 시 `--platform` 옵션을 사용하여 특정 아키텍처(예: linux/arm64)만 빌드하고 푸시하도록 설정합니다.
